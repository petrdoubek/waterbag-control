<!DOCTYPE html>
<html><head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>Dešťová voda</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
	<style>
		canvas {
			-moz-user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
		}
	</style>
</style></head>

<body>
	<div style="width:100%"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
		<canvas id="chart1" width="100%" height="300" style="display: block;" class="chartjs-render-monitor"></canvas>
	</div>
	<script>
    window.chartColors = {
      red: 'rgb(255, 99, 132)',
      orange: 'rgb(255, 159, 64)',
      yellow: 'rgb(255, 205, 86)',
      green: 'rgb(75, 255, 75)',
      greenFill: 'rgba(75, 255, 75, 0.3)',
      blue: 'rgb(54, 162, 235)',
      blueFill: 'rgba(54, 162, 235, 0.3)',
      purple: 'rgb(153, 102, 255)',
      grey: 'rgb(201, 203, 207)'
    };

		var ctx = document.getElementById('chart1').getContext('2d');
		ctx.canvas.width = 1000;
		ctx.canvas.height = 300;

		var cfg = {
			type: 'line',
			data: {
				datasets: [
				  	{
						label: 'Zásoba [l]',
						backgroundColor: window.chartColors.blueFill,
						borderColor: window.chartColors.blue,
						data: %STORED%,
						type: 'line',
						lineTension: 0
					},
          			{
						label: 'Předpověď déšť [l]',
						backgroundColor: window.chartColors.greenFill,
						borderColor: window.chartColors.green,
						data: %FORECASTED_RAIN%,
						type: 'line',
						lineTension: 0
				  	}
        		]
			},
			options: {
				scales: {
					xAxes: [{
						type: 'time',
						time: {
							displayFormats: {
							  minute: 'D.M. H:mm',
							  hour: 'D.M. H[h]',
							  day: 'D.M.'
							}
						},
						ticks: { autoSkip: true }
					}],
					yAxes: [{
						scaleLabel: {
							labelString: 'litrů'
						},
						ticks: {
						  beginAtZero: true
						}
					}]
				},
				tooltips: {
					intersect: false,
					mode: 'index',
					callbacks: {
						label: function(tooltipItem, myData) {
							var label = myData.datasets[tooltipItem.datasetIndex].label || '';
							if (label) {
								label += ': ';
							}
							label += parseFloat(tooltipItem.value).toFixed(0);
							return label;
						}
					}
				}
			}
		};

		var chart = new Chart(ctx, cfg);

	</script>



</body></html>
